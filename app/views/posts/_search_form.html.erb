<script type="text/javascript">
  $(function(){
    $('button.tag-btn').on('click', function(){
      var tagName = this.value;
      $('input.search-tags').data('tagsinput').add(tagName);
    })
  });
</script>
<%=form_tag('#', :class => 'form-inline', :remote => true) do%>
  <!-- タグ利用数上位10件を取得し利用数とともに表示 -->
  <table id="search-post-form">
    <tr>
      <td>
        <div class="field">
          <%=label_tag(:tags, "Tags")%>
          <%=text_field_tag(:tags, "", 'data-role' => 'tagsinput', :class => 'search-tags')%>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        利用タグTO10
      </td>
    </tr>
    <tr class="tags">
      <td>
        <%tags.each do |tag|%>
              <button class="btn btn-xs btn-primary tag-btn" value="<%=tag%>">
                <%=tag%><span class="badge"><%=tag.taggings_count%></span>
              </button>
        <%end%>
      </td>
    </tr>
    <tr>
      <td id="search-post">
        <div class="actions">
          <%=submit_tag("Search")%>
        </div>
      </td>
    </tr>

  </table>

<%end%>
